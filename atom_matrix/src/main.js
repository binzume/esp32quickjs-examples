console.log('Hello, JavaScript!');
let data = [
  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0x000000, 0x000000, 0xffff00, 0x000000, 0x000000,
  0x000000, 0x000000, 0xffff00, 0x000000, 0x000000,
  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  0x000000, 0x0000ff, 0x0000ff, 0x0000ff, 0x000000,
  0x0000ff, 0x000000, 0x0000ff, 0x000000, 0x0000ff,
  0x0000ff, 0x000000, 0x0000ff, 0x000000, 0x0000ff,
  0x000000, 0x000000, 0x0000ff, 0x0000ff, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  0x000000, 0x00ff00, 0x00ff00, 0x00ff00, 0x000000,
  0x00ff00, 0x000000, 0x000000, 0x000000, 0x00ff00,
  0x00ff00, 0x000000, 0x000000, 0x000000, 0x00ff00,
  0x000000, 0x00ff00, 0x00ff00, 0x00ff00, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  0xff0000, 0x000000, 0xff0000, 0xff0000, 0xff0000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
];
let t = 0;
function mainLoop() {
  for (let i = 0; i < 25; i++) {
    m5.matrix.set(i, data[(i + t * 5) % data.length]);
  }
  if (m5.buttonState) {
    t += data.length / 5 - 1;
  } else {
    t++;
  }
}
// esp32.registerLoop(mainLoop);
setInterval(mainLoop, 100);
