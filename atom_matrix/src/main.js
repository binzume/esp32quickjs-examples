console.log('Hello, JavaScript!');

let led_data = [
  // H
  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0x000000, 0x000000, 0xffff00, 0x000000, 0x000000,
  0x000000, 0x000000, 0xffff00, 0x000000, 0x000000,
  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  // e
  0x000000, 0x0000ff, 0x0000ff, 0x0000ff, 0x000000,
  0x0000ff, 0x000000, 0x0000ff, 0x000000, 0x0000ff,
  0x0000ff, 0x000000, 0x0000ff, 0x000000, 0x0000ff,
  0x000000, 0x000000, 0x0000ff, 0x0000ff, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  // L
  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  // L
  0xffff00, 0xffff00, 0xffff00, 0xffff00, 0xffff00,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0xffff00, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  // o
  0x000000, 0x00ff00, 0x00ff00, 0x000000, 0x000000,
  0x00ff00, 0x000000, 0x000000, 0x00ff00, 0x000000,
  0x00ff00, 0x000000, 0x000000, 0x00ff00, 0x000000,
  0x000000, 0x00ff00, 0x00ff00, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,

  // !
  0xff0000, 0x000000, 0xff0000, 0xff0000, 0xff0000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
];

let t = 0;
function mainLoop() {
  for (let i = 0; i < 5 * 5; i++) {
    m5.matrix.set(i, led_data[(i + t * 5) % led_data.length]);
  }
  if (m5.buttonState) {
    t += led_data.length / 5 - 1;
  } else {
    t++;
  }
}
setInterval(mainLoop, 100);
